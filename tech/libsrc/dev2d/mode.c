/*
 * $Source: x:/prj/tech/libsrc/dev2d/RCS/mode.c $
 * $Revision: 1.3 $
 * $Author: TOML $
 * $Date: 1996/11/18 12:38:24 $
 *
 * Mode information tables.
 *
 * This file is part of the 2d library.
 *
 */

#include <grs.h>
#include <mode.h>

grs_mode_info grd_mode_info[GRD_MODES] = {
   { GRM_320x200x8,   0x13,  320,  200,  8, 1, 0 },
   { GRM_320x200x8X,    -1,  320,  200,  8, 1, 0 },
   { GRM_320x400x8,     -1,  320,  400,  8, 1, 0 },
   { GRM_320x240x8,     -1,  320,  240,  8, 1, 0 },
   { GRM_320x480x8,     -1,  320,  480,  8, 1, 0 },

// Next come the variable vesa modes.  We do not know in advance what
// the mode numbers are going to be.

   { GRM_640x350x4,    0x0,  640,  350,  4, 0, 0 },
   { GRM_640x400x4,    0x0,  640,  400,  4, 0, 0 },
   { GRM_640x480x4,    0x0,  640,  480,  4, 0, 0 },
   { GRM_800x600x4,    0x0,  800,  600,  4, 0, 0 },
   { GRM_1024x768x4,   0x0, 1024,  768,  4, 0, 0 },
   { GRM_1280x1024x4,  0x0, 1280, 1024,  4, 0, 0 },
   { GRM_1600x1200x4,  0x0, 1600, 1200,  4, 0, 0 },

   { GRM_320x200x8S,   0x0,  320,  200,  8, 1, 0 },
   { GRM_320x240x8S,   0x0,  320,  240,  8, 1, 0 },
   { GRM_320x400x8S,   0x0,  320,  400,  8, 1, 0 },
   { GRM_360x200x8,    0x0,  360,  200,  8, 1, 0 },
   { GRM_360x240x8,    0x0,  360,  240,  8, 1, 0 },
   { GRM_360x400x8,    0x0,  360,  400,  8, 1, 0 },
   { GRM_640x350x8,    0x0,  640,  350,  8, 1, 0 },
   { GRM_640x400x8,    0x0,  640,  400,  8, 1, 0 },
   { GRM_640x480x8,    0x0,  640,  480,  8, 1, 0 },
   { GRM_800x600x8,    0x0,  800,  600,  8, 1, 0 },
   { GRM_1024x768x8,   0x0, 1024,  768,  8, 1, 0 },
   { GRM_1280x1024x8,  0x0, 1280, 1024,  8, 1, 0 },
   { GRM_1600x1200x8,  0x0, 1600, 1200,  8, 1, 0 },

   { GRM_320x200x15,   0x0,  320,  200, 15, 1, 0 },
   { GRM_320x240x15,   0x0,  320,  240, 15, 1, 0 },
   { GRM_320x400x15,   0x0,  320,  400, 15, 1, 0 },
   { GRM_360x200x15,   0x0,  360,  200, 15, 1, 0 },
   { GRM_360x240x15,   0x0,  360,  240, 15, 1, 0 },
   { GRM_360x400x15,   0x0,  360,  400, 15, 1, 0 },
   { GRM_640x350x15,   0x0,  640,  350, 15, 1, 0 },
   { GRM_640x400x15,   0x0,  640,  400, 15, 1, 0 },
   { GRM_640x480x15,   0x0,  640,  480, 15, 1, 0 },
   { GRM_800x600x15,   0x0,  800,  600, 15, 1, 0 },
   { GRM_1024x768x15,  0x0, 1024,  768, 15, 1, 0 },
   { GRM_1280x1024x15, 0x0, 1280, 1024, 15, 1, 0 },
   { GRM_1600x1200x15, 0x0, 1600, 1200, 15, 1, 0 },

   { GRM_320x200x16,   0x0,  320,  200, 16, 1, 0 },
   { GRM_320x240x16,   0x0,  320,  240, 16, 1, 0 },
   { GRM_320x400x16,   0x0,  320,  400, 16, 1, 0 },
   { GRM_360x200x16,   0x0,  360,  200, 16, 1, 0 },
   { GRM_360x240x16,   0x0,  360,  240, 16, 1, 0 },
   { GRM_360x400x16,   0x0,  360,  400, 16, 1, 0 },
   { GRM_640x350x16,   0x0,  640,  350, 16, 1, 0 },
   { GRM_640x400x16,   0x0,  640,  400, 16, 1, 0 },
   { GRM_640x480x16,   0x0,  640,  480, 16, 1, 0 },
   { GRM_800x600x16,   0x0,  800,  600, 16, 1, 0 },
   { GRM_1024x768x16,  0x0, 1024,  768, 16, 1, 0 },
   { GRM_1280x1024x16, 0x0, 1280, 1024, 16, 1, 0 },
   { GRM_1600x1200x16, 0x0, 1600, 1200, 16, 1, 0 },

   { GRM_320x200x24,   0x0,  320,  200, 24, 0, 0 },
   { GRM_320x240x24,   0x0,  320,  240, 24, 0, 0 },
   { GRM_320x400x24,   0x0,  320,  400, 24, 0, 0 },
   { GRM_360x200x24,   0x0,  360,  200, 24, 0, 0 },
   { GRM_360x240x24,   0x0,  360,  240, 24, 0, 0 },
   { GRM_360x400x24,   0x0,  360,  400, 24, 0, 0 },
   { GRM_640x350x24,   0x0,  640,  350, 24, 0, 0 },
   { GRM_640x400x24,   0x0,  640,  400, 24, 0, 0 },
   { GRM_640x480x24,   0x0,  640,  480, 24, 0, 0 },
   { GRM_800x600x24,   0x0,  800,  600, 24, 0, 0 },
   { GRM_1024x768x24,  0x0, 1024,  768, 24, 0, 0 },
   { GRM_1280x1024x24, 0x0, 1280, 1024, 24, 0, 0 },
   { GRM_1600x1200x24, 0x0, 1600, 1200, 24, 0, 0 },

   { GRM_320x200x32,   0x0,  320,  200, 32, 0, 0 },
   { GRM_320x240x32,   0x0,  320,  240, 32, 0, 0 },
   { GRM_320x400x32,   0x0,  320,  400, 32, 0, 0 },
   { GRM_360x200x32,   0x0,  360,  200, 32, 0, 0 },
   { GRM_360x240x32,   0x0,  360,  240, 32, 0, 0 },
   { GRM_360x400x32,   0x0,  360,  400, 32, 0, 0 },
   { GRM_640x350x32,   0x0,  640,  350, 32, 0, 0 },
   { GRM_640x400x32,   0x0,  640,  400, 32, 0, 0 },
   { GRM_640x480x32,   0x0,  640,  480, 32, 0, 0 },
   { GRM_800x600x32,   0x0,  800,  600, 32, 0, 0 },
   { GRM_1024x768x32,  0x0, 1024,  768, 32, 0, 0 },
   { GRM_1280x1024x32, 0x0, 1280, 1024, 32, 0, 0 },
   { GRM_1600x1200x32, 0x0, 1600, 1200, 32, 0, 0 },

   { GRM_400x300x8,    0x0,  400,  300,  8, 1, 0 },
   { GRM_512x384x8,    0x0,  512,  384,  8, 1, 0 },
   { GRM_400x300x15,   0x0,  400,  300, 15, 1, 0 },
   { GRM_512x384x15,   0x0,  512,  384, 15, 1, 0 },
   { GRM_400x300x16,   0x0,  400,  300, 16, 1, 0 },
   { GRM_512x384x16,   0x0,  512,  384, 16, 1, 0 },
   { GRM_400x300x24,   0x0,  400,  300, 24, 0, 0 },
   { GRM_512x384x24,   0x0,  512,  384, 24, 0, 0 },
   { GRM_400x300x32,   0x0,  400,  300, 32, 0, 0 },
   { GRM_512x384x32,   0x0,  512,  384, 32, 0, 0 },
};

const char * grd_mode_names[GRD_MODES] = {
   "320x200x8",
   "320x200x8X",
   "320x400x8",
   "320x240x8",
   "320x480x8",
   "640x350x4",
   "640x400x4",
   "640x480x4",
   "800x600x4",
   "1024x768x4",
   "1280x1024x4",
   "1600x1200x4",
   "320x200x8S",
   "320x240x8S",
   "320x400x8S",
   "360x200x8",
   "360x240x8",
   "360x400x8",
   "640x350x8",
   "640x400x8",
   "640x480x8",
   "800x600x8",
   "1024x768x8",
   "1280x1024x8",
   "1600x1200x8",
   "320x200x15",
   "320x240x15",
   "320x400x15",
   "360x200x15",
   "360x240x15",
   "360x400x15",
   "640x350x15",
   "640x400x15",
   "640x480x15",
   "800x600x15",
   "1024x768x15",
   "1280x1024x15",
   "1600x1200x15",
   "320x200x16",
   "320x240x16",
   "320x400x16",
   "360x200x16",
   "360x240x16",
   "360x400x16",
   "640x350x16",
   "640x400x16",
   "640x480x16",
   "800x600x16",
   "1024x768x16",
   "1280x1024x16",
   "1600x1200x16",
   "320x200x24",
   "320x240x24",
   "320x400x24",
   "360x200x24",
   "360x240x24",
   "360x400x24",
   "640x350x24",
   "640x400x24",
   "640x480x24",
   "800x600x24",
   "1024x768x24",
   "1280x1024x24",
   "1600x1200x24",
   "320x200x32",
   "320x240x32",
   "320x400x32",
   "360x200x32",
   "360x240x32",
   "360x400x32",
   "640x350x32",
   "640x400x32",
   "640x480x32",
   "800x600x32",
   "1024x768x32",
   "1280x1024x32",
   "1600x1200x32",
   "400x300x8",
   "512x384x8",
   "400x300x15",
   "512x384x15",
   "400x300x16",
   "512x384x16",
   "400x300x24",
   "512x384x24",
   "400x300x32",
   "512x384x32",
};


// Finds the first 2d mode with w,h, and bitdepth. Differs
// from gr_find_mode() in that it doesn't care whether the
// mode is really supported by the current hardware
int gr_mode_from_info(int w, int h, int bitDepth)
{
   int i;
   grs_mode_info *info;

   for (i = 0, info = grd_mode_info; i < GRD_MODES; i++, info++) {
      if (info->w==w && info->h==h && info->bitDepth==bitDepth)
         return i;
   }
   return -1;
}

// Get a human-readable form of the mode name
const char * gr_mode_name(int mode)
{
   if (mode < GRD_MODES)
      return grd_mode_names[mode];
   return "Unknown";
}
